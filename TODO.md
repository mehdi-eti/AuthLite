<!-- @format -->

# ๐ Clerk-style Auth System (React + ExpressJS + Prisma)

---

## โ ูุงุฒ ุงูู โ ุทุฑุงุญ ุงููู ู ูพุงฺฏุงู ุฏุงุฏู

-    [x] ุทุฑุงุญ ุณุงุฎุชุงุฑ ุฌุฏุงูู ุงููู (User, Session, OAuthAccount, OTP, VerificationToken)
-    [x] ุชุนุฑู role (USER, ADMIN, MODERATOR)
-    [x] ุงุชุตุงู Prisma ุจู SQLite (ุจุง ุจุฑูุงูู ุจุฑุง ููุงุฌุฑุช ุจู PostgreSQL)
-    [x] ุงุฌุงุฏ ูุงูโูุง ุงููู ูพุฑูฺู (`app.ts`, `routes`, `controllers`, `middlewares`)

---

## โ ูุงุฒ ุฏูู โ ูพุงุฏูโุณุงุฒ API ูพุงู

### ๐ฏ Auth Routes

-    [x] `/auth/register` โ ุซุจุชโูุงู ุจุง ุงูู/ุฑูุฒ ุนุจูุฑ
-    [x] `/auth/login` โ ูุฑูุฏ ู ุตุฏูุฑ access/refresh token
-    [x] `/auth/sessions` โ ูุฑูุฏ ู ุตุฏูุฑ access/refresh token
-    [x] `/auth/sessions/:sessionId"` โ ุญุฐู ูุดุณุช
-    [x] `/auth/logout` โ ุญุฐู ูุดุณุช ู ฺฉูฺฉ ูุง
-    [x] `/auth/me` โ ุฏุฑุงูุช ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
-    [x] `/auth/refresh` โ ุตุฏูุฑ ุชูฺฉู ุฌุฏุฏ ุจุง refresh token

### ๐ Email Verification

-    [x] ุชููุฏ ู ุฐุฎุฑู ุชูฺฉู ุชุฃุฏ ุงูู
-    [x] ุงุฑุณุงู ุงูู ุชุฃุฏ (ุจุง ููฺฉ ุญุงู ุชูฺฉู)
-    [x] `/auth/verify-email` โ ุชุฃุฏ ุงูู ุจุง ุชูฺฉู ู ฺฉุฏ
-    [x] ุฌููฺฏุฑ ุงุฒ ูุฑูุฏ ูุจู ุงุฒ ุชุฃุฏ ุงูู

---

## โ ุงููุช โ ูพุงุฏูโุณุงุฒโุดุฏู ุชุง ุงู ูุญุธู

| ูฺฺฏ                                          | ูุถุนุช | ุชูุถุญุงุช                                 |
| ---------------------------------------------- | ------- | --------------------------------------- |
| โ JWT ุจุง ุงูุถุง ุงูู                            |  โ๏ธ   | access/refresh ุจุง ุฒูุงู ุงููุถุง ุฌุฏุงฺฏุงูู    |
| โ ุฐุฎุฑู refresh token ุฏุฑ ุฌุฏูู Session         |  โ๏ธ   | ุจุฑุฑุณ ูุนุชุจุฑ ุจูุฏู ุชูฺฉู                   |
| โ HTTP-only Cookies                           |   โ๏ธ  | ุฐุฎุฑู ุชูฺฉูโูุง ุจุง ุงููุช ุจุงูุง             |
| โ ุญุฐู refresh token ุฏุฑ logout                 | โ๏ธ    | session-based logout                    |
| โ Rate Limiting                               | โ๏ธ    | ุญุฏุงฺฉุซุฑ ต ุจุงุฑ ุฏุฑุฎูุงุณุช resend ุฏุฑ ฑฐ ุฏููู |
| โ CAPTCHA (Google reCAPTCHA)                  |  โ   | ุจุฑุฑุณ ุฏุฑุฎูุงุณุช ฺฉุงุฑุจุฑ ูุจู ุงุฒ ุงุฑุณุงู ุงูู  |
| โ ูุญุฏูุฏุช ุฑูุฒุงูู ุงุฑุณุงู ุชุฃุฏู ุงูู          | โ | ุญุฏุงฺฉุซุฑ ต ุจุงุฑ ุฏุฑ ุฑูุฒ                     |
| โ ูพุงุณุฎ ุงูู ุจู ฺฉุงุฑุจุฑ (even if user not exists) | โ๏ธ    | ุฌููฺฏุฑ ุงุฒ email enumeration            |
| โ Token Rotation for Verification             | โ๏ธ    | ุจุงุทูโุณุงุฒ ุชูฺฉูโูุง ูุจู                 |
| โ ุญุฐู VerificationToken ุจุนุฏ ุงุฒ ุงุณุชูุงุฏู        | โ๏ธ    | ุฌููฺฏุฑ ุงุฒ reuse                        |
| โ ุฐุฎุฑู ูุงฺฏ ุงููุช (ุงุฎุชุงุฑ)                  | โณ    | ุชุนุฑู ุฌุฏูู `AuditLog` ุฏุฑ ุญุงู ุงูุฌุงู      |

---

## ๐ ูุงุฒ ุณูู โ ูพุงุฏูโุณุงุฒ ูุฑุงูุชโุงูุฏ React

### ๐ง Auth Context

-    [ ] ุงุฌุงุฏ `AuthProvider`, `useAuth()`
-    [ ] ุจุฑุฑุณ ูุถุนุช ฺฉุงุฑุจุฑ ุจุง `/auth/me`
-    [ ] ูุฏุฑุช ูุฑูุฏ/ุฎุฑูุฌ/ุชูฺฉู ุฏุฑ ูุฑุงูุช

### ๐งพ ูุฑูโูุง

-    [ ] ูุฑู `Login`, `Register`, `Verify Email`
-    [ ] ุงุฑุณุงู `captchaToken` ุฏุฑ ุฏุฑุฎูุงุณุชโูุง
-    [ ] ProtectedRoute ุจุฑุง ุตูุญุงุช ูุญุงูุธุชโุดุฏู

---

## ๐ ูุงุฒ ฺูุงุฑู โ ุงูฺฉุงูุงุช ูพุดุฑูุชู

| ูฺฺฏ                                 | ูุถุนุช | ุชูุถุญ                                           |
| ------------------------------------- | ----- | ----------------------------------------------- |
| [ ] Google OAuth                      | โ    | ูุฑูุฏ ุจุง ุญุณุงุจ Google (ุจุง Passport ุง OAuth2 API) |
| [ ] Magic Link Login                  | โ    | ูุฑูุฏ ููุท ุจุง ฺฉูฺฉ ุฑู ููฺฉ ุงูู                 |
| [ ] OTP Email Login                   | โ    | ูุฑูุฏ ุจุง ฺฉุฏ ถ ุฑูู ุงุฑุณุงูโุดุฏู ุจู ุงูู            |
| [ ] Password Reset                    | โ    | ุงุฑุณุงู ููฺฉ/ฺฉุฏ ุจุงุฒูุดุงู ุฑูุฒ ุนุจูุฑ                 |
| [ ] ุชุบุฑ ุฑูุฒ ุงุฒ ุฏุงุฎู ุญุณุงุจ            | โ    | ููุฑุงู ุจุง re-authentication                      |
| [ ] ูพูู ูุฏุฑุช ฺฉุงุฑุจุฑุงู                | โ    | ูุณุช ฺฉุงุฑุจุฑุงูุ ููุดโูุงุ ุญุฐู ู ุจูุงฺฉ                |
| [ ] ุญุฐู ุญุณุงุจ ฺฉุงุฑุจุฑ                   | โ    | ุญุฐู ุฏุณุช ุง ุฒูุงูโุฏุงุฑ ุชูุณุท ฺฉุงุฑุจุฑ                 |
| [ ] Token Rotation ุจุฑุง Refresh Token | โณ    | ุฌููฺฏุฑ ุงุฒ ุณุฑูุช ุชูฺฉู ุฏุฑ ุญููุงุช XSS               |
| [ ] Multi-device Sessions             | โณ    | ูุดุงูุฏู ู ุญุฐู ุณุดูโูุง ูุนุงู ุงุฒ ุณุงุฑ ุฏุณุชฺฏุงูโูุง     |
